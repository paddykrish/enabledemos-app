<!DOCTYPE html>
<html lang="en" ng-app="appDetails">
   <head>
   <title>Claims Overview</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Lato">
    <link href="../css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../plugins/owl/owl.carousel.min.css">
    <link rel="stylesheet" href="../plugins/owl/owl.theme.default.min.css">
    <link rel="stylesheet" href="../plugins/fontawesome/css/font-awesome.min.css">
    
    <!-- PAGES CSS -->
    <link rel="stylesheet" type="text/css" href="../css/pages/global/global.css">
    <link rel="stylesheet" type="text/css" href="../css/pages/claims/claims-overview.css">
	
	<!-- Chart JS -->
	<script type="text/javascript"  src="../js/jquery-3.1.1.min.js"></script>
    <script type="text/javascript"  src="../js/bootstrap.min.js"></script>
	<script src="../js/highcharts.js"></script>
	<script src="../js/heatmap.js"></script>
	<script src="../js/exporting.js"></script>
  </head>
  <body>
    <article class="mainWrapper container-fluid">
        <header>
            <div class="clearfix">
                <div class="pull-left">
                    <div class="poc-logo">
                       <img src="../images/poc-logo.jpg">    
                    </div>
                </div>
                <div class="pull-right">
                    <div class="top">
                        <ul class="list-unstyled">
                            <li class="username">
                             <i class="fa fa-user" aria-hidden="true"></i> Hi! Mike Sommers
                            </li>
                            <li class="main-menu">
                                <a href="#"><i class="fa fa-bars" aria-hidden="true"></i></a>
                            </li>
                        </ul>
                    </div>
                </div>    
            </div>
            <div class="submenu-container">
              <ul class="nav nav-tabs" role="tablist">
                <li role="presentation"><a href="../index.html"><i class="fa fa-eye" aria-hidden="true"></i> Overview</a></li>
                <li role="presentation"><a href="#marketing-sales" aria-controls="marketing-sales" role="tab" data-toggle="tab"><i class="fa fa-line-chart" aria-hidden="true"></i> Marketing & Sales</a></li>
                <li role="presentation"><a href="../underwriting/index.html"><i class="fa fa-suitcase" aria-hidden="true"></i>Underwriting</a></li>
                <li role="presentation"><a href="../loss-prevention/index.html" aria-controls="loss-prevention" role="tab" data-toggle="tab"><i class="fa fa-level-down" aria-hidden="true"></i> Loss Prevention</a></li>
                <li role="presentation" class="active"><a href="index.html" aria-controls="claims"><i class="fa fa-users" aria-hidden="true"></i> Claims</a></li>
                <li role="presentation"><a href="#fraud" aria-controls="fraud" role="tab" data-toggle="tab"><i class="fa fa-user-times" aria-hidden="true"></i> Claims Fraud</a></li>
              </ul>
            </div>
        </header>
        <div class="main-content">
            <div class="container-fluid" id="claims-overview">
                <div class="main">
                <h1 class="pageTitle">Claims Overview</h1>
                    <div class="row">
                        <div class="col-lg-4">
                            <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
                              <div class="panel panel-default">
                                <div class="panel-heading" role="tab" id="headingOne">
                                  <h4 class="panel-title">
                                    <a role="button" data-toggle="collapse" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                      Active Claims <i class="fa fa-minus" aria-hidden="true"></i>
                                    </a>
                                  </h4>
                                </div>
                                <div id="collapseOne" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingOne">
                                  <div class="panel-body">
                                    <div class="row">
                                        <div class="col-lg-12">
                                            <div ng-controller="ActiveClaimsStackedAreaChartCtrl">
                                                <nvd3 options="options" data="data"></nvd3>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-lg-12" ng-controller="ActiveClaimsStatsCtrl">
                                            <div class="row">
                                                <div class="col-lg-6">
                                                    <h4>Review Exposure</h4>
                                                    <p>{{statistics.review_exposure | currency : "$" : 0}}</p>
                                                </div>
                                                <div class="col-lg-6">
                                                    <h4>Dispute / Legal Exposure</h4>
                                                    <p>{{statistics.dispute_legal_exposure | currency : "$" : 0}}</p>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-lg-6">
                                                    <h4>On Hold Exposure</h4>
                                                    <p>{{statistics.onhold_exposure | currency : "$" : 0}}</p>
                                                </div>
                                                <div class="col-lg-6">
                                                    <h4>Investigation Exposure</h4>
                                                    <p>{{statistics.investigation_exposure | currency : "$" : 0}}</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-lg-12">
                                            <div ng-controller="ActiveClaimsPolarAreaChartCtrl">
                                                <canvas id="polar-area" class="chart chart-polar-area"
                                                  chart-data="data" chart-labels="labels" chart-options="options">
                                                </canvas>
                                            </div>
                                        </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                              <div class="panel panel-default">
                                <div class="panel-heading" role="tab" id="headingTwo">
                                  <h4 class="panel-title">
                                    <a role="button" data-toggle="collapse" href="#collapseTwo" aria-expanded="true" aria-controls="collapseTwo">
                                      Claims Payout Peril<i class="fa fa-minus" aria-hidden="true"></i>
                                    </a>
                                  </h4>
                                </div>
                                <div id="collapseTwo" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingTwo">
                                  <div class="panel-body" ng-controller="ClaimsPayoutCtrl">
                                     <div class="row">
                                        <div class="col-lg-12">
                                            <div id="heatMapPayout"></div>
										</div>	
                                     </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <!-- panel-group -->
                        </div>
                        <div class="col-lg-8">
                            <div class="row">
                                <div class="col-lg-6">
                                    <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
                                      <div class="panel panel-default">
                                        <div class="panel-heading" role="tab" id="headingThree">
                                          <h4 class="panel-title">
                                            <a role="button" data-toggle="collapse" href="#collapseThree" aria-expanded="true" aria-controls="collapseThree">
                                              MAP <i class="fa fa-minus" aria-hidden="true"></i>
                                            </a>
                                          </h4>
                                        </div>
                                        <div id="collapseThree" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingThree">
                                          <div class="panel-body">
                                             <div class="row">
                                                <div class="col-lg-12 map">
                                                    <div style="margin-bottom:20px; margin-left:15px; margin-right:15px;">
                                                        <div id="sample" style = "width:100%; height:200px;"></div>
                                                    </div>
                                                </div>
                                             </div>
                                             <div class="row">
                                                <!-- SLIDER -->
                                                <div class="col-lg-12 slider">
                                                    <div class="owl-carousel owl-theme"> 
                                                        <div class="item">
                                                            <div class="panel">
                                                                <div class="row">
                                                                    <div class="col-lg-12">
                                                                        <div class="riskTitle clearfix">
                                                                            <h2><span><i class="fa fa-sun-o" aria-hidden="true"></i></span>Weather</h2>
                                                                        </div>
                                                                        <div class="table-responsive" ng-controller="WeatherCtrl">
                                                                            <table class="table">
                                                                                <thead>
                                                                                    <tr>
                                                                                        <th>Date</th>	
                                                                                        <th>Type</th>
                                                                                        <th>Description</th>
                                                                                    </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                    <tr ng-repeat="weather in weather_results">
                                                                                        <td>{{weather.date}}</td>
                                                                                        <td>{{weather.type}}</td>
                                                                                        <td>{{weather.desc}}</td>
                                                                                    </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        
                                                        </div>
                                                        <div class="item">
                                                            <div class="panel">
                                                                <div class="row">
                                                                    <div class="col-lg-12">
                                                                        <div class="riskTitle clearfix">
                                                                            <h2><span><i class="fa fa-hand-paper-o" aria-hidden="true"></i></span>Crime</h2>
                                                                        </div>
                                                                        <div class="table-responsive" ng-controller="CrimeCtrl">
                                                                            <table class="table">
                                                                                <thead>
                                                                                    <tr>
                                                                                        <th>Date</th>	
                                                                                        <th>Type</th>
                                                                                        <th>Description</th>
                                                                                    </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                    <tr ng-repeat="crime in crime_results">
                                                                                        <td>{{crime.date}}</td>
                                                                                        <td>{{crime.type}}</td>
                                                                                        <td>{{crime.desc}}</td>
                                                                                    </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        
                                                        </div>
                                                        <div class="item">
                                                            <div class="panel">
                                                                <div class="row">
                                                                    <div class="col-lg-12">
                                                                        <div class="riskTitle clearfix">
                                                                            <h2><span><i class="fa fa-fire" aria-hidden="true"></i></span>Fire</h2>
                                                                        </div>
                                                                        <div class="table-responsive" ng-controller="FireCtrl">
                                                                            <table class="table">
                                                                                <thead>
                                                                                    <tr>
                                                                                        <th>Date</th>	
                                                                                        <th>Level</th>
                                                                                        <th>Area</th>
                                                                                    </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                    <tr ng-repeat="fire in fire_results">
                                                                                        <td>{{fire.date}}</td>
                                                                                        <td>{{fire.level}}</td>
                                                                                        <td>{{fire.area}}</td>
                                                                                    </tr>
                                                                                    
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        
                                                        </div>
                                                        <div class="item">
                                                            <div class="panel">
                                                                <div class="row">
                                                                    <div class="col-lg-12">
                                                                        <div class="riskTitle clearfix">
                                                                            <h2><span><i class="fa fa-snowflake-o" aria-hidden="true"></i></span>Hail</h2>
                                                                        </div>
                                                                        <div class="table-responsive" ng-controller="HailCtrl">
                                                                            <table class="table">
                                                                                <thead>
                                                                                    <tr>
                                                                                        <th>Date</th>	
                                                                                        <th>Type</th>
                                                                                        <th>Description</th>
                                                                                    </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                    <tr ng-repeat="hail in hail_results">
                                                                                        <td>{{hail.date}}</td>
                                                                                        <td>{{hail.type}}</td>
                                                                                        <td>{{hail.description}}</td>
                                                                                    </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- SLIDER -->
                                             </div>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                    <!-- panel-group -->
                                </div>
                                <div class="col-lg-6">
                                    <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
                                      <div class="panel panel-default">
                                        <div class="panel-heading" role="tab" id="headingFour">
                                          <h4 class="panel-title">
                                            <a role="button" data-toggle="collapse" href="#collapseInv" aria-expanded="true" aria-controls="collapseInv">Top Stories <i class="fa fa-minus" aria-hidden="true"></i>
                                            </a>
                                          </h4>
                                        </div>
                                        <div id="collapseInv" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingFour">
                                          <div class="panel-body">
                                             <div class="row">
                                                <div class="col-lg-12">
                                                    <img src="../images/news-featured-image.jpg" alt="featured image">
                                                </div>
                                             </div>
                                             <div class="row">
                                                 <div class="col-lg-12" ng-controller="SocialStreamCtrl">
                                                    <ul class="list-group">
                                                      <li class="list-group-item" ng-repeat="social_stream in social_streams">{{social_stream.name}} <a href="#">({{social_stream.value | number:0}})</a></li>
                                                    </ul>
                                                </div>
                                             </div>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                    <!-- panel-group -->
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-lg-6">
                                    <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
                                      <div class="panel panel-default">
                                        <div class="panel-heading" role="tab" id="headingFive">
                                          <h4 class="panel-title">
                                            <a role="button" data-toggle="collapse" href="#collapseFive" aria-expanded="true" aria-controls="collapseFive">Event Analytics <i class="fa fa-minus" aria-hidden="true"></i>
                                            </a>
                                          </h4>
                                        </div>
                                        <div id="collapseFive" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingFive">
                                          <div class="panel-body">
                                             <div class="row" ng-controller="EventAnalyticsCtrl">
                                                <div class="col-lg-6">
                                                    <h4>Claims Amount in Process</h4>
                                                    <p>{{statistics.claims_amount_in_process | currency : "$" : 0}}</p>
                                                </div>
                                                <div class="col-lg-6">
                                                    <h4>Total Estimated Exposure</h4>
                                                    <p>{{statistics.total_estimated_exposure | currency : "$" : 0}}</p>
                                                </div>
                                             </div>
                                             <div class="row">
                                                <div class="col-lg-12">
                                                    <div class="tableContainer" ng-controller="EventAnalyticsCtrl">
                                                        <table class="table">
                                                            <thead>
                                                                <tr>
                                                                    <th>Company Name</th> 
                                                                    <th>Active Claims</th> 
                                                                    <th>Total Claim Amount</th>    
                                                                    <th>Limit</th>
                                                                    <th>Estimated Exposure</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr ng-repeat="event_analytic in event_analytics">
                                                                    <td>{{event_analytic.company_name}}</td>
                                                                    <td>{{event_analytic.active_claims}}</td>
                                                                    <td>{{event_analytic.total_claim_amount | currency}}</td>
                                                                    <td>{{event_analytic.limit | currency}}</td>
                                                                    <td>{{event_analytic.estimated_exposure | currency}}</td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                             </div>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
                                      <div class="panel panel-default">
                                        <div class="panel-heading" role="tab" id="headingSix">
                                          <h4 class="panel-title">
                                            <a role="button" data-toggle="collapse" href="#collapseSix" aria-expanded="true" aria-controls="collapseSix"> Claim History <i class="fa fa-minus" aria-hidden="true"></i>
                                            </a>
                                          </h4>
                                        </div>
                                        <div id="collapseSix" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingSix">
                                          <div class="panel-body">
                                            <div class="row">
                                                <div class="col-lg-12">
                                                    <div class="tableContainer" ng-controller="ClaimHistoryCtrl">
                                                        <table class="table">
                                                            <thead>
                                                                <tr>
                                                                    <th>Claim Number</th> 
                                                                    <th>Policy Number</th> 
                                                                    <th>Date</th>    
                                                                    <th>Claim Amount</th>
                                                                    <th>LOB</th>
                                                                    <th>Limit</th>
                                                                    <th>Loss Ratio</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr ng-repeat="claim_history in claim_histories">
                                                                    <td><a href="#" data-toggle="modal" data-target="#myModal">{{claim_history.claim_number}}</a></td>
                                                                    <td>{{claim_history.policy_number}}</td>
                                                                    <td>{{claim_history.date}}</td>
                                                                    <td>{{claim_history.claim_amount | currency}}</td>
                                                                    <td>{{claim_history.lob | currency}}</td>
                                                                    <td>{{claim_history.limit}}</td>
                                                                    <td>{{claim_history.loss_ratio}}</td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                             </div>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                </div>
                                
                            </div>
                        </div>
                    </div>
                </div>
           <!-- Modal -->
            <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
              <div class="modal-dialog" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="myModalLabel">Claim Details</h4>
                  </div>
                  <div class="modal-body" ng-controller="ClaimDetailsCtrl">
                    <div class="row">
                        <div class="col-lg-6">
                            <div class="row">
                                <div class="col-lg-12">
                                    <div class="policy">
                                        <p>Policy #</p>
                                        <p>{{claimInfo.policyNumber}}</p>
                                    </div>
                                </div> 
                            </div>
                            <div class="row">
                                <div class="col-lg-6">
                                    <div class="address">
                                        <p>Address:</p>
                                        <p>{{claimInfo.address}}</p>
                                    </div>
                                    <div class="phone">
                                        <p>Phone Number:</p>
                                        <p>{{claimInfo.phoneNumber1}}</p>
                                    </div>
                                    <div class="contactPerson">
                                        <p>Contact person:</p>
                                        <p>{{claimInfo.contactPerson}}</p>
                                    </div>
                                </div> 
                                <div class="col-lg-6">
                                    <div class="city">
                                        <p>City:</p>
                                        <p>{{claimInfo.city}}</p>
                                    </div>
                                    <div class="website">
                                        <p>Website:</p>
                                        <p>{{claimInfo.website}}</p>
                                    </div>
                                    <div class="position">
                                        <p>Position:</p>
                                        <p>{{claimInfo.position}}</p>
                                    </div>
                                </div> 
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <div class="row">
                                <div class="col-lg-12">
                                    <div class="company">
                                        <p>Company / Organization:</p>
                                        <p>{{claimInfo.company}}</p>
                                    </div>
                                </div> 
                            </div>
                            <div class="row">
                                <div class="col-lg-6">
                                    <div class="state">
                                        <p>State:</p>
                                        <p>{{claimInfo.state}}</p>
                                    </div>
                                </div> 
                                <div class="col-lg-6">
                                    <div class="zip">
                                        <p>Zip:</p>
                                        <p>{{claimInfo.zip}}</p>
                                    </div>
                                </div> 
                            </div>
                            <div class="row">
                                <div class="col-lg-12">
                                    <div class="company">
                                        <p>Phone Number:</p>
                                        <p>{{claimInfo.phoneNumber2}}</p>
                                    </div>
                                </div> 
                            </div>
                        </div>
                    </div>
                  </div>
                  
                </div>
              </div>
            </div> 
            <!-- End of Modal -->
            </div>
        </div>
        <footer>
            &copy;2017 RCG GLOBAL SERVICES
        </footer>
    </article>
	<script src="../plugins/owl/owl.carousel.min.js"></script>
    <script src="../js/pages/plugins.js"></script>
    <!-- Angular Graphs CSS -->
    <link rel="stylesheet" href="../node_modules/angular-nvd3/node_modules/nvd3/build/nv.d3.min.css"/>  
    
    <!-- Angular Graphs JS -->
    <script src="../node_modules/angular-nvd3/node_modules/angular/angular.min.js"></script>
    <script src="../node_modules/angular-nvd3/node_modules/d3/d3.min.js" charset="utf-8"></script>
    <script src="../node_modules/angular-nvd3/node_modules/nvd3/build/nv.d3.min.js"></script>
    <script src="../node_modules/angular-nvd3/dist/angular-nvd3.js"></script>

    <script src="../node_modules/chart.js/dist/Chart.min.js"></script>
    <script src="../node_modules/angular-chart.js/dist/angular-chart.min.js"></script>

    <script src="js/app_claims.js"></script>


    <script src = "https://maps.googleapis.com/maps/api/js?key=AIzaSyAgiZSa_VLVLhdcJ9DmXP6L-uXDLmzD-OI"></script>

    <script type="text/javascript">

    function loadMap() {        
        var locations = [
          [40.71, -74.21, 4],
          [33.72, -80.20, 5],
          [30.73, -90.19, 3],
          [35.74, -99.18, 2],
          [40.75, -120.17, 1],
          [36.76, -88.16, 1],
          [34.77, -115.15, 1],
          [40.78, -74.14, 1]
        ];

        var mapOptions = {
           center:new google.maps.LatLng(39.5, -98.35), 
           zoom:4, 
           mapTypeId:google.maps.MapTypeId.ROADMAP
        };
        var map = new google.maps.Map(document.getElementById("sample"),mapOptions);

        var infowindow = new google.maps.InfoWindow();

        var marker, i;

        for (i = 0; i < locations.length; i++) {  
          marker = new google.maps.Marker({
            position: new google.maps.LatLng(locations[i][0], locations[i][1]),
            map: map
          });

          //google.maps.event.addListener(marker, 'click', (function(marker, i) {
          //  return function() {
          //    infowindow.setContent(locations[i][0]);
          //    infowindow.open(map, marker);
          //  }
          //})(marker, i));
        }
    }

    //google.maps.event.addDomListener(window, 'load', loadMap);

    //Load Google Map
    $(document).ready(function() {
        //initMap();
        loadMap();

        /*$("#rgExposure").on('hidden.bs.collapse', function() {
            loadMap();      
        });

        $("#rgExposure").on('shown.bs.collapse', function() {
            loadMap();      
        });*/
    });
    </script>
  </body>
</html>